local psystems = {}

function psystems:load()
	
	local particle1 = love.graphics.newImage("assets/particle1.tga")
	local particle2 = love.graphics.newImage("assets/particle2.png")
	local broken_asteroid = love.graphics.newImage("assets/broken_asteroid.png")
	
	-- Creates a particle system used for the jet effect for the player ship
	psystem1 = love.graphics.newParticleSystem(particle2, 500)
	psystem1:setParticleLifetime(0.1,0.1 ) 
	psystem1:setLinearAcceleration(-1200,0,1200,6400) 
	psystem1:setLinearDamping(10, 100) 
	psystem1:setColors(110,110,255, 50, 80, 80, 225, 0) 
	psystem1:setSizes(.17)
	psystem1:setRotation(0,6.28) 
	psystem1:setSpinVariation(1)
	psystem1:setBufferSize(500)
	psystem1:setRadialAcceleration(100)
	psystem1:stop()
	psystem1:start()

	-- Creates a particle system used for the jet smoke effect for the player ship
	psystem2 = love.graphics.newParticleSystem(particle2, 500)
	psystem2:setParticleLifetime(0.1,.19 ) 
	psystem2:setLinearAcceleration(-1100,0,1100,9000) 
	psystem2:setLinearDamping(10, 50) 
	psystem2:setColors(40,40,40, 50, 30, 30, 30, 0) 
	psystem2:setSizes(.2)
	psystem2:setRotation(0,6.28) 
	psystem2:setSpinVariation(1)
	psystem2:setBufferSize(500)
	psystem2:setRadialAcceleration(1000)
	psystem2:stop()
	psystem2:start()

	-- Creates a particle system used whem asteroides are destroyd
	psystem3 = love.graphics.newParticleSystem(broken_asteroid, 32)
	psystem3:setParticleLifetime(.5,1 ) 
	psystem3:setLinearAcceleration(-6000,-6000,6000,6000) 
	psystem3:setLinearDamping(50, 100) 
	psystem3:setColors(255,255,255, 255, 100, 100, 100, 0) 
	psystem3:setSizes(1)
	psystem3:setRadialAcceleration(500)
	psystem3:setEmissionRate(32)
	psystem3:setRotation(0,6.28) 
	psystem3:setSpinVariation(1)
	psystem3:setBufferSize(20)
	psystem3:stop()
	psystem3:start()

	P_min3, P_max3 = psystem3:getParticleLifetime( )

	-- Creates a particle system used whem asteroides are destroyd
	psystem4 = love.graphics.newParticleSystem(particle2, 1000)
	psystem4:setParticleLifetime(.5,1 ) 
	psystem4:setLinearAcceleration(-2000,-2000,2000,2000) 
	psystem4:setLinearDamping(100, 100) 
	psystem4:setColors(255,200,50, 100, 255, 50, 50, 50) 
	psystem4:setSizes(.3)
	psystem4:setRadialAcceleration(2500)
	psystem4:setEmissionRate(1000)
	psystem4:setRotation(0,6.28) 
	psystem4:setSpinVariation(1)
	psystem4:setBufferSize(500)
	psystem4:stop()
	psystem4:start()

	P_min3, P_max3 = psystem4:getParticleLifetime( )

	-- Creates a particle system used whem aliens are destroyd
	psystem5 = love.graphics.newParticleSystem(broken_asteroid, 32)
	psystem5:setParticleLifetime(.5,1 ) 
	psystem5:setLinearAcceleration(-6000,-6000,6000,6000) 
	psystem5:setLinearDamping(50, 100) 
	psystem5:setColors(255,255,255, 255, 100, 100, 100, 0) 
	psystem5:setSizes(1)
	psystem5:setRadialAcceleration(500)
	psystem5:setEmissionRate(32)
	psystem5:setRotation(0,6.28) 
	psystem5:setSpinVariation(1)
	psystem5:setBufferSize(20)
	psystem5:stop()
	psystem5:start()

	P_min3, P_max3 = psystem5:getParticleLifetime( )

	-- Creates a particle system used whem aliens are destroyd
	psystem6 = love.graphics.newParticleSystem(particle2, 1000)
	psystem6:setParticleLifetime(.5,1 ) 
	psystem6:setLinearAcceleration(-2000,-2000,2000,2000) 
	psystem6:setLinearDamping(100, 100) 
	psystem6:setColors(255,200,50, 100, 255, 50, 50, 50) 
	psystem6:setSizes(.3)
	psystem6:setRadialAcceleration(2500)
	psystem6:setEmissionRate(1000)
	psystem6:setRotation(0,6.28) 
	psystem6:setSpinVariation(1)
	psystem6:setBufferSize(500)
	psystem6:stop()
	psystem6:start()

	-- Creates a particle system used for the jet effect for the missiles
	psystem7 = love.graphics.newParticleSystem(particle2, 500)
	psystem7:setParticleLifetime(0.1,0.1 ) 
	psystem7:setLinearAcceleration(-300,0,300,3400) 
	psystem7:setLinearDamping(10, 100) 
	psystem7:setColors(110,110,255, 50, 80, 80, 225, 0) 
	psystem7:setSizes(.1)
	psystem7:setRotation(0,6.28) 
	psystem7:setSpinVariation(1)
	psystem7:setBufferSize(500)
	psystem7:setRadialAcceleration(50)
	psystem7:stop()
	psystem7:start()

	-- Creates a particle system used for the jet smoke effect for the missiles
	psystem8 = love.graphics.newParticleSystem(particle2, 500)
	psystem8:setParticleLifetime(0.1,.19 ) 
	psystem8:setLinearAcceleration(-200,0,200,6000) 
	psystem8:setLinearDamping(10, 50) 
	psystem8:setColors(40,40,40, 50, 30, 30, 30, 0) 
	psystem8:setSizes(.2)
	psystem8:setRotation(0,6.28) 
	psystem8:setSpinVariation(1)
	psystem8:setBufferSize(500)
	psystem8:setRadialAcceleration(400)
	psystem8:stop()
	psystem8:start()

	psystem9 = love.graphics.newParticleSystem(particle2, 1000)
	psystem9:setParticleLifetime(.1,.2 ) 
	psystem9:setLinearAcceleration(-28000,-28000,28000,28000) 
	psystem9:setLinearDamping(25, 50) 
	psystem9:setColors(255,200,50, 100, 255, 50, 50, 50) 
	psystem9:setSizes(.5)
	psystem9:setRadialAcceleration(2500)
	psystem9:setEmissionRate(1000)
	psystem9:setRotation(0,6.28) 
	psystem9:setSpinVariation(1)
	psystem9:setBufferSize(500)
	psystem9:stop()
	psystem9:start()

	P_min9, P_max9 = psystem9:getParticleLifetime()
end

function psystems:update(dt)

	psystem1:update(dt / 2)
	psystem2:update(dt / 2)
	psystem3:update(dt / 2)
	psystem4:update(dt / 2)
	psystem5:update(dt / 2)
	psystem6:update(dt / 2)
	psystem7:update(dt / 2)
	psystem8:update(dt / 2)
	psystem9:update(dt / 2)
	psystem1:emit(40)
	psystem2:emit(40)
	psystem7:emit(40)
	psystem8:emit(40)
	psystem9:emit(1000)
	psystem3:emit(32)
	psystem4:emit(1000)
	psystem5:emit(32)
	psystem6:emit(1000)
end



return psystems